<h4 class="display-4 text-center my-4"><%= "#{@user.first_name.capitalize} #{@user.last_name.capitalize}'s Timecards" %></h4>
<div class="row justify-content-center">
  <div class="col-md-8">
    <%= button_to "Log workday", new_timecard_path, class: "btn btn-success btn-lg btn-block py-2 my-4", id: "logtimecardbutton", method: :get if @user == current_user %>
  </div>
</div>
<div class="row justify-content-center form-group">
  <%= form_tag({}, {method: :get, class: "form-inline"})  do %>
    <%= label_tag "Displaying workdays from: " %>
    <%= date_field_tag :start, value = @date_range[:start].strftime("%Y-%m-%e"), class: "form-control mx-2" %>
    <%= label_tag "Through: "%>
    <%= date_field_tag :finish, value = @date_range[:finish].strftime("%Y-%m-%e"), class: "form-control mx-2" %>
    <%= submit_tag "Select", class: "btn btn-info" %>
  <% end %>
</div>


<table class="table table-hover my-4">
  <tr>
    <th></th>
    <th scope="col">Date</th>
    <th scope="col">Hours</th>
    <th scope="col">Start Time</th>
    <th scope="col">End Time</th>
    <th scope="col">Description</th>
  </tr>

  <% @timecards.list.each do |t| %>
    <tr>
      <td><%= link_to "Show", timecard_path(t.id) %></td>
      <td><%= t.start.strftime("%A, %b %d") %></td>
      <td><%= t.duration %></td>
      <td><%= t.start.strftime("%I:%M %p") %></td>
      <td><%= t.end.strftime("%I:%M %p") %></td>
      <td><%= t.description %></td>
    </tr>
  <% end %>
</table>

<strong>Total Time:</strong> <%= @timecards.total_duration %> hours

